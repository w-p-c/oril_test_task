# node-app

## Setup

1. Install [Docker](https://www.docker.com/)
2. `cd` into project root directory
3. Run `docker compose build`
4. Run `docker compose up` and wait untill you see "App is running on port 8080"

App is fully dockerized and runs consistently on Linux, Windows, and MacOS.

## Available API endpoints

1. `POST /submit/xml` - accepts requests with XML in their body and `Content-Type` header set to either `text/xml` or `application/xml`. Returns conversion `jobId`. Jobs submitted via this endpoint have an intentional delay of 10s for demonstrational purposes.
2. `POST /submit/json` - accepts requests with JSON in their body and `Content-Type` header set to `application/json`. Only accepts JSON previously generated by `POST /submit/xml` jobs due to JSON-XML compatibility problems. More specifically, only accepts json object assigned to `converted` property of a return json object. Returns conversion `jobId`.
3. `GET /retrieve/:id` - accepts requests with `:id` substituted for `jobId`. Returns respective job status or job execution output.

## Smoke testing

1. Download [Insomnia API client](https://insomnia.rest/download)
2. Import requests collection stored in this repo at [`doc/Insomnia_2023-01-27.json`](doc/Insomnia_2023-01-27.json)

## Unit/integration/AB testing

Not available in the current app version
